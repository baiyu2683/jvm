# 虚拟机字节码执行引擎

## 运行时栈帧结构

![image-20210106111721595](images/虚拟机字节码执行引擎/image-20210106111721595.png)

![image-20210106111858244](images/虚拟机字节码执行引擎/image-20210106111858244.png)

### 局部变量表

![image-20210106115313483](images/虚拟机字节码执行引擎/image-20210106115313483.png)

![image-20210106115352533](images/虚拟机字节码执行引擎/image-20210106115352533.png)

![image-20210106115423156](images/虚拟机字节码执行引擎/image-20210106115423156.png)

![image-20210106115455687](/home/cellophane/.config/Typora/typora-user-images/image-20210106115455687.png)



关于为什么局部变量必须赋值

![image-20210106115554163](images/虚拟机字节码执行引擎/image-20210106115554163.png)

### 操作数栈

![image-20210106120004283](images/虚拟机字节码执行引擎/image-20210106120004283.png)



![image-20210106133707860](images/虚拟机字节码执行引擎/image-20210106133707860.png)

![image-20210106133736349](images/虚拟机字节码执行引擎/image-20210106133736349.png)

### 动态链接

![image-20210106134033206](images/虚拟机字节码执行引擎/image-20210106134033206.png)

### 方法返回地址

![image-20210106134342194](images/虚拟机字节码执行引擎/image-20210106134342194.png)



### 附加信息



## 方法调用

### 解析

![image-20210106140050354](images/虚拟机字节码执行引擎/image-20210106140050354.png)

![image-20210106140110163](images/虚拟机字节码执行引擎/image-20210106140110163.png)

![image-20210106140140901](images/虚拟机字节码执行引擎/image-20210106140140901.png)



### 分派

#### 静态分派（重载实现）

![image-20210106143902531](images/虚拟机字节码执行引擎/image-20210106143902531.png)

![image-20210106143931093](images/虚拟机字节码执行引擎/image-20210106143931093.png)



![image-20210106144009298](images/虚拟机字节码执行引擎/image-20210106144009298.png)



![image-20210106144051286](images/虚拟机字节码执行引擎/image-20210106144051286.png)

![image-20210106144202070](images/虚拟机字节码执行引擎/image-20210106144202070.png)

![image-20210106144300684](images/虚拟机字节码执行引擎/image-20210106144300684.png)

#### 动态分派（重写）

![image-20210106151315477](images/虚拟机字节码执行引擎/image-20210106151315477.png)

#### 单分派与多分派

![image-20210106152413793](images/虚拟机字节码执行引擎/image-20210106152413793.png)



![image-20210106152530886](images/虚拟机字节码执行引擎/image-20210106152530886.png)

![image-20210106152553796](images/虚拟机字节码执行引擎/image-20210106152553796.png)

![image-20210106152440789](images/虚拟机字节码执行引擎/image-20210106152440789.png)

#### 虚拟机动态分派的实现





## 实战

### 如何在子类中调用父类的父类中的方法

